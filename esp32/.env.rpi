# RPi5 Camera Stream Configuration for Render Deployment
# Copy this file to your RPi and source it before running the script:
# source /path/to/.env.rpi

# ─── BACKEND API (REQUIRED) ───────────────────────────────────────────────────
# Replace with your actual Render backend URL
API_URL=https://smoki-backend-rpi.onrender.com
DEVICE_ID=cam_001
CAMERA_LOCATION=Main_Entrance
SEND_DETECTIONS=true

# ─── HAILO MODEL PATH (REQUIRED) ──────────────────────────────────────────────
# Path to your Hailo model file
HEF_PATH=/home/pi/smoki_project/models/smoki_model_v1.hef

# ─── HLS STREAMING ────────────────────────────────────────────────────────────
# Use RAM disk for ultra-low latency
HLS_DIR=/dev/shm/hls
HLS_SEGMENT_DURATION=2
HLS_PLAYLIST_SIZE=5

# ─── CAMERA SETTINGS ──────────────────────────────────────────────────────────
CAMERA_RESOLUTION_WIDTH=640
CAMERA_RESOLUTION_HEIGHT=480
CAMERA_FPS=20
CAMERA_BITRATE=800k

# ─── INFERENCE SETTINGS ───────────────────────────────────────────────────────
CONF_THRESH=0.25
IOU_THRESH=0.45
HAILO_DEVICE_ID=0

# ─── DATABASE (optional, for local testing) ──────────────────────────────────
DB_HOST=dpg-d5mc48fgi27c739ffhcg-a.oregon-postgres.render.com
DB_NAME=smoki_db
DB_USER=smoki_db_user
DB_PASSWORD=HwlPtCgq1vW9KI45aHRuD1sbNwA03kFT
DB_PORT=5432

# ─── LOGGING ──────────────────────────────────────────────────────────────────
LOG_LEVEL=INFO
LOG_FILE=/var/log/rpi-hls/camera.log

# ─── LOCAL SERVER (optional) ──────────────────────────────────────────────────
LOCAL_IP=192.168.1.100
LOCAL_PORT=8000
ENABLE_LOCAL_SERVER=true
